#include QMK_KEYBOARD_H

/*-| INPUTS |-----------------------------------------------------------------------------------------------------------*/

extern bool caps, numlock, scrolllock, pressed;

extern bool os_rctrl;
extern bool os_lctrl;
extern bool os_rctrl_lock;
extern bool os_lctrl_lock;
extern bool os_ralt;
extern bool os_lalt;
extern bool os_ralt_lock;
extern bool os_lalt_lock;

extern bool makroReq1;
extern bool makroReq2;
extern bool makroPly1;
extern bool makroPly2;

extern bool oneshot_enabled;
extern bool autoshift_enabled;
extern bool autocorrect_enabled;
extern bool capsword_enabled;
extern bool capsword_active;

extern os_variant_t detected_os;

extern bool leader;
extern bool leader_done;
extern bool leader_cancel;

extern bool is_qwertz;
extern bool is_dvorak;

extern bool keylock_active;
extern bool keylock_watching;

extern int layer_type;

/*----------------------------------------------------------------------------------------------------------------------*/

const int logosize1 = 18;
const int logosize2 = 14;

const char PROGMEM emptylogo[] = {
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};

/*----------------------------------------------------------------------------------------------------------------------*/

// these are the chars in my custom font for the given symbols:
#define SYM_enter 0x80
#define SYM_space 0x81
#define SYM_tab1 0x82
#define SYM_tab2 0x83
#define SYM_left 0xA0
#define SYM_right 0xA1
#define SYM_down 0xA2
#define SYM_up 0xA3
#define SYM_home 0xC0
#define SYM_end 0xC1
#define SYM_pagedown 0xC2
#define SYM_pageup 0xC3
#define SYM_brightness 0x84
#define SYM_increase 0x85
#define SYM_decrease 0x86
#define SYM_calc 0x87
#define SYM_speaker 0xA4
#define SYM_louder 0xA5
#define SYM_quieter 0xA6
#define SYM_off 0xA7
#define SYM_microphone 0xC4
#define SYM_airplane1 0xA8
#define SYM_airplane2 0xA9
#define SYM_display1 0xC5
#define SYM_display2 0xC6
#define SYM_lock 0xC7
#define SYM_info 0xC8
#define SYM_backspace1 0xC9
#define SYM_backspace2 0xCA
#define SYM_delete1 0xCB
#define SYM_delete2 0xCC
#define SYM_esc1 0x8A
#define SYM_esc2 0x8B
#define SYM_break1 0x8C
#define SYM_break2 0x8D
#define SYM_settings1 0x8E
#define SYM_settings2 0x8F
#define SYM_insert1 0xAB
#define SYM_insert2 0xAC
#define SYM_print1 0xAD
#define SYM_print2 0xAE
#define SYM_fn1 0xCD
#define SYM_fn2 0xCE
#define SYM_umlautmod 0x93
#define SYM_scharfS 0x94
#define SYM_ctrlmod 0x90
#define SYM_winmod 0x91
#define SYM_altmod 0xB0
#define SYM_altgrmod 0xB1
#define SYM_shiftmod 0xB2
#define SYM_ellipsysVert 0xD0
#define SYM_dot 0xD1
#define SYM_empty_rect 0xD2

/*----------------------------------------------------------------------------------------------------------------------*/

void render_layer_logo(int *x, int *y);

/*----------------------------------------------------------------------------------------------------------------------*/

void render_lock(int *x, int *y) {
        static const char PROGMEM raw_logo[] = {
            0,  0,  0,  0,  0,  0,248,248, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,248,248,  0,  0,  0,  0,  0,  0,  0,  0,  0,192,192,192,255,255,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,192,255,255,192,192,192,  0,  0,  0,  0,  0,  0,255,255,255,255,255,255,255,255,131,187,187,131,239,239,239,239,239,207,239,207,255,255,255,255,255,255,  0,  0,  0,  0,  0,  0, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,  0,  0,  0,
        }; // 4x4y overlay for keylogs
        oled_write_raw_P(raw_logo, sizeof(raw_logo));
        /* *y += 4; */
        /* oled_set_cursor(*x, *y); */
}

void render_line(int *x, int *y, const char PROGMEM *logo, int size) {
    oled_write_raw_P(logo, size);
    *y += 1;
    oled_set_cursor(*x, *y);
}

void render_empty(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        24, 36, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 36, 24,
    };
    render_line(x, y, raw_logo, sizeof(raw_logo));
}

void render_halffull(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        24, 36, 66, 82, 74, 66, 82, 74, 66, 82, 74, 66, 82, 74, 66, 82, 74, 66, 82, 74, 66, 82, 74, 66, 82, 74, 66, 82, 74, 66, 36, 24,
    };
    render_line(x, y, raw_logo, sizeof(raw_logo));
}

void render_full(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        24, 60,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126,126, 60, 24,
    };
    render_line(x, y, raw_logo, sizeof(raw_logo));
}

/*----------------------------------------------------------------------------------------------------------------------*/

void render_layout(int *x, int *y) {
    static const char PROGMEM raw_qwertz[] = {
        0,126, 66, 66,  0,  0,  0,  0,  0,  0,  0,  0, 66, 98,114, 90, 90, 78, 70, 66,  0,  0,  0,  0,  0,  0,  0,  0, 66, 66,126,  0,
    };
    static const char PROGMEM raw_qwerty[] = {
        0,126, 66, 66,  0,  0,  0,  0,  0,  0,  0,  0,  0,  6, 12,120,120, 12,  6,  0,  0,  0,  0,  0,  0,  0,  0,  0, 66, 66,126,  0,
    };
    static const char PROGMEM raw_dvorak[] = {
        0,126, 66, 66,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,126, 66, 66, 36, 24,  0,  0,  0,  0,  0,  0,  0,  0,  0, 66, 66,126,  0,
    };
    if (is_qwertz) {
        render_line(x, y, raw_qwertz, sizeof(raw_qwerty));
    }
    else if (is_dvorak) {
        render_line(x, y, raw_dvorak, sizeof(raw_qwerty));
    }
    else {
        render_line(x, y, raw_qwerty, sizeof(raw_qwerty));
    }

}

/*----------------------------------------------------------------------------------------------------------------------*/

void render_MOD(int *x, int *y, const char PROGMEM *line1, const char PROGMEM *line2) {
    int size = 14;
    if (*x == 0) {
        size = 18;
    }
    oled_write_raw_P(line1, size);
    *y += 1;
    oled_set_cursor(*x, *y);
    oled_write_raw_P(line2, size);
    *x += 3;
    *y -= 1;
    if (*x >= 6) {
        *x = 0;
        *y += 2;
    }
    oled_set_cursor(*x, *y);
}

void render_MOD_caps(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        64, 96,112,120,252,254,255,254,252,120,112, 96, 64, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        0,  0,  0,  0, 95, 95, 95, 95, 95,  0,  0,  0,  0, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_MOD_numlock(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        0,  0,255, 33,253,251,247, 33,255,  0,  0,  0,  0, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        6, 14, 31, 34,122,246,122, 34, 31, 14,  6,  0,  0, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_MOD_capsword(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        16, 24,244,  2,  1,  1,  2,244, 24, 16,  0,  0,  0, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        96, 64, 71, 68, 68, 68, 68, 71, 64, 96,  0,  0,  0, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_MOD_scrolllock(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        8, 12,254,255,254, 12,  8,128,224,144,224,128,  0, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
       16, 48,127,255,127, 48, 16,  7,  7,  7,  7,  7,  0, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_MOD_win(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        56, 68,130,130,130,132,248,132,130,130,130, 68, 56, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        14, 17, 32, 32, 32, 16, 15, 16, 32, 32, 32, 17, 14, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_MOD_shift(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        0,  0, 32, 48, 56,252,254,252, 56, 48, 32,  0,  0, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        0,  0,  0,  0,  0, 31, 31, 31,  0,  0,  0,  0,  0, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_MOD_alt(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        6,  6,254,254,192,192,198,198,198,198,198,198,198, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        0,  0,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_MOD_ctrl(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        0,  0,  0,  0,128,192, 96,192,128,  0,  0,  0,  0, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        8, 12,  6,  3,  1,  0,  0,  0,  1,  3,  6, 12,  8, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_MOD_altgr(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        6,  6,254,254,  0,  0,198,198,198,198,198,198,198, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        0,  0,127,127,120,120,120,120,120,120,120,120,120, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_OS_left(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        0,  0,  0,  0,128, 64, 32,208,  8,  4,  2,  2,254, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        0,124, 66, 65, 64, 64, 64, 79, 72, 72, 72, 64,127, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_OS_right(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        0,254,  2,226, 36, 40,208, 32, 64,128,  0,  0,  0, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        0,127, 64, 79, 65, 67, 69, 72, 64, 64, 65, 66,124, 128, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_OS_leftLock(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        0,  0,  0,  0,128,192,224, 48,248,252,254,254,254, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        0,124,126,127,127,127,127,112,119,119,119,127,127, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_OS_rightLock(int *x, int *y) {
    static const char PROGMEM raw_logo[] = {
        0,254,254, 30,220,216, 48,224,192,128,  0,  0,  0, 0, 0, 0, 0, 0
    };
    static const char PROGMEM raw_logo2[] = {
        0,127,127,112,126,124,122,119,127,127,127,126,124, 0, 0, 0, 0, 0
    };
    render_MOD(x, y, raw_logo, raw_logo2);
}

void render_empty_SQ(int *x, int *y) {
    if (*x != 0) {
        render_MOD(x, y, emptylogo, emptylogo);
    }
    for (int i = *y; i < (15 - 4); i += 2) {
        render_MOD(x, y, emptylogo, emptylogo);
        render_MOD(x, y, emptylogo, emptylogo);
    }
}

void render_wpm(int *x, int *y) {
    char buff[6];
    snprintf(buff, sizeof(buff), " %3d", get_current_wpm());
    oled_write_ln("", false);
    oled_write_ln(buff, false);
    *y += 2;
}

void render_MODS(int *x, int *y) {
    int i = 0;
    if (caps && i < 8) {
        render_MOD_caps(x, y);
        i++;
    }
    if (numlock && i < 8) {
        render_MOD_numlock(x, y);
        i++;
    }
    if (scrolllock && i < 8) {
        render_MOD_scrolllock(x, y);
        i++;
    }
    int mods = get_mods();
    static int last_mods = 0;
    if (mods != last_mods) {
        last_mods = mods;
        pressed = true;
    }
    if ((mods & (MOD_BIT(KC_LSFT) | MOD_BIT(KC_RSFT))) && i < 8) {
        render_MOD_shift(x, y);
        i++;
    }
    if ((mods & MOD_BIT(KC_LALT)) && i < 8) {
        render_MOD_alt(x, y);
        i++;
    }
    if ((mods & MOD_BIT(KC_RALT)) && i < 8) {
        render_MOD_altgr(x, y);
        i++;
    }
    if ((mods & (MOD_BIT(KC_LCTL) | MOD_BIT(KC_RCTL))) && i < 8) {
        render_MOD_ctrl(x, y);
        i++;
    }
    if ((mods & (MOD_BIT(KC_LGUI) | MOD_BIT(KC_RGUI))) && i < 8) {
        render_MOD_win(x, y);
        i++;
    }
    if (i == 0) {
        render_MOD(x, y, emptylogo, emptylogo);
        render_MOD(x, y, emptylogo, emptylogo);
        /* oled_write_ln("", false); */
        /* oled_write_ln("", false); */
        /* *y += 2; */
        render_layer_logo(x, y);
        render_wpm(x, y);
        i += 2;
    }
    render_empty_SQ(x, y);
}

bool render_OS(int *x, int *y) {
    int i = 0;
    bool overscroll = false;
    if (os_lctrl && i < 7) {
        render_OS_left(x, y);
        render_MOD_ctrl(x, y);
        i += 2;
    }
    if (os_rctrl && i < 7) {
        render_OS_right(x, y);
        render_MOD_ctrl(x, y);
        i += 2;
    }
    if (os_lctrl_lock && i < 7) {
        render_OS_leftLock(x, y);
        render_MOD_ctrl(x, y);
        i += 2;
    }
    if (os_rctrl_lock && i < 7) {
        render_OS_rightLock(x, y);
        render_MOD_ctrl(x, y);
        i += 2;
    }
    if (os_lalt && i < 7) {
        render_OS_left(x, y);
        render_MOD_alt(x, y);
        i += 2;
    }
    if (os_ralt && i < 7) {
        render_OS_right(x, y);
        render_MOD_altgr(x, y);
        i += 2;
    }
    if (os_lalt_lock && i < 7) {
        render_OS_leftLock(x, y);
        render_MOD_alt(x, y);
        i += 2;
    }
    if (os_ralt_lock && i < 7) {
        render_OS_rightLock(x, y);
        render_MOD_altgr(x, y);
        i += 2;
    }
    if (capsword_active && i < 8) {
        render_MOD_capsword(x, y);
        i++;
    }
    if (caps && i < 8) {
        render_MOD_caps(x, y);
        i++;
    }
    if (numlock && i < 8) {
        render_MOD_numlock(x, y);
        i++;
    }
    if (scrolllock && i < 8) {
        render_MOD_scrolllock(x, y);
        i++;
    }
    if (i == 0 && layer_type != 0) {
        // if no other info is shown and we have an active layer, show it
        render_MOD(x, y, emptylogo, emptylogo);
        render_MOD(x, y, emptylogo, emptylogo);
        /* oled_write_ln("", false); */
        /* oled_write_ln("", false); */
        /* *y += 2; */
        render_layer_logo(x, y);
        render_wpm(x ,y);
        i += 2;
        overscroll = true;
    }
    if(i == 0) {
        // if no other info shown render detected OS and which side is master
        overscroll = true;
#ifdef MASTER_LEFT
#define DIR11 0xD7
#define DIR12 0xD8
#define DIR21 0xD5
#define DIR22 0xD6
#else
#define DIR11 0xDB
#define DIR12 0xDC
#define DIR21 0xD9
#define DIR22 0xDA
#endif /* ifdef MASTER_LEFT */
        static const char PROGMEM win1[] = {
            0x97, 0x98, ' ', DIR11, DIR12, 0
        };
        static const char PROGMEM win2[] = {
            0xB7, 0xB8, ' ', DIR21, DIR22, 0
        };
        static const char PROGMEM ios1[] = {
            0x95, 0x96, ' ', DIR11, DIR12, 0
        };
        static const char PROGMEM ios2[] = {
            0xB5, 0xB6, ' ', DIR21, DIR22, 0
        };
        static const char PROGMEM linux1[] = {
            0x9D, 0x9E, ' ', DIR11, DIR12, 0
            /* 0x99, 0x9A, 0 */
        };
        static const char PROGMEM linux2[] = {
            0xBD, 0xBE, ' ', DIR21, DIR22, 0
            /* 0xB9, 0xBA, 0 */
        };
        static const char PROGMEM unsure1[] = {
            0xB3, 0xB4, ' ', DIR11, DIR12, 0
        };
        static const char PROGMEM unsure2[] = {
            0xD3, 0xD4, ' ', DIR21, DIR22, 0
        };
        render_MOD(x, y, emptylogo, emptylogo);
        render_MOD(x, y, emptylogo, emptylogo);
        switch (detected_os) {
            case OS_MACOS:
            case OS_IOS:
                oled_write_P(ios1, false);
                oled_write_P(ios2, false);
                break;
            case OS_WINDOWS:
                oled_write_P(win1, false);
                oled_write_P(win2, false);
                break;
            case OS_LINUX:
                oled_write_P(linux1, false);
                oled_write_P(linux2, false);
                break;
            case OS_UNSURE:
                oled_write_P(unsure1, false);
                oled_write_P(unsure2, false);
                break;
        }
        *y += 2;
        /* oled_set_cursor(*x, *y); */
        render_wpm(x, y);
        /* *y += 2; */
        /* oled_set_cursor(*x, *y); */
    }
    render_empty_SQ(x, y);
    if (i < 7) {
        overscroll = true;
    }
    return overscroll;
}

/*----------------------------------------------------------------------------------------------------------------------*/

void render_4x4y_anim(int *x, int *y) {
    static int which;
    static int counter;
    /* static const char PROGMEM frame1[] = { */
    /*     0,  0,  0,128,  0,  0, 12,144,176,224,114, 49,155,222,206,236,238,233,233,236,207,218,153, 62, 98,228,196,112, 16, 16,  0,  5,  0,  0,  0, 64, 33, 51, 59,123,255,  0,124,255,255,255,255,255,255,255,255,255,255,255,255,255,124,  1,255,222,140,  4, 12,  5,  0,  0,  0,  0,  0,  6,  2,  6, 77, 79,140,249,115, 55, 39, 47, 47,175,239,111,119, 23, 51,121,204, 31, 49, 32, 33,  2,  2,  0,  8, 28, 93, 62, 28, 28, 20, 28,  8,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 0, */
    /* }; */
    /* static const char PROGMEM frame2[] = { */
    /*     0,  0,  0, 80, 64,128, 32,144,188,224,120, 49,153,223,206,237,238,233,232,236,207,217,154, 62, 98,225,193, 96, 49, 24,  0,  0,  0,  0,  0,  4,136, 25, 51,123,255,  0,124,255,255,255,255,255,255,255,255,255,255,255,255,255,124,  1,255,222,134, 68, 70, 20,  0,  0,  0,  0,  0, 35,  2, 11,141,199, 76,121,115,183, 39, 47, 47,175,111,111,247,151,115, 57,204, 79, 17, 12, 37,  0,  0,  0,  0,  0,  0,  8,  8, 42, 28,  0,  8, 28, 93, 62, 28, 28, 20, 28,  8,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 0, */
    /* }; */
    /* static const char PROGMEM frame3[] = { */
    /*     0,  0,  0,  0, 64,128, 48,144,188,226,120, 49,158,217,204,236,233,232,234,232,207,220,152, 53,114,233,196,  4, 48, 24, 32,  0,  0,  0,  0,  0, 41, 25, 51,123,255,  0,124,255,255,255,255,255,255,255,255,255,255,255,255,255,124,  1,255, 66,210, 16, 34,  4,  0,  0,  0,  4,  2,  3,  2, 67, 29,199, 76,121,243, 55,231, 47, 47, 47,111,111,247,151,115, 57, 76, 15,  3, 22,  0,  1,  2,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  8,  8, 40, 28,  0,  8, 28, 93, 62, 28, 28, 20, 28, 8, */
    /* }; */
    /* static const char PROGMEM frame4[] = { */
    /*     0,  0,  0,  0,128,  0,  0,144,176,228,112, 49,154,222,202,236,238,233,232,236,206,218,145, 62, 96,228,192, 72, 16, 16,  0,  0,  0,  0,  0,  0,  0, 51, 42, 91,255,  0,124,255,255,255,255,255,255,255,255,255,255,255,255,255,124,  1,255,154,136,  4,  4,  0,  0,  0,  0,  0,  0,  2,  2,  6,  9, 79,140,217,115, 55, 39,175, 47, 47,239, 47,119, 23, 51, 89, 76, 27, 49, 32,  1,  2,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  8,  8, 42, 28, */
    /* }; */
    static const char PROGMEM frames[][32 * 4] = {
          {0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
},
          {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 7, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 192, 224, 224, 224, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 7, 15, 14, 15, 7, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 192, 224, 112, 112, 112, 224, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 7, 15, 28, 28, 28, 15, 7, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 224, 240, 112, 56, 56, 56, 112, 240, 224, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 15, 31, 28, 56, 56, 56, 28, 31, 15, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 224, 240, 56, 24, 28, 28, 28, 24, 56, 240, 224, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 15, 31, 56, 48, 112, 112, 112, 48, 56, 31, 15, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 224, 248, 56, 28, 12, 14, 142, 14, 12, 28, 56, 248, 224, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 15, 63, 56, 112, 96, 225, 227, 225, 96, 112, 56, 63, 15, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 240, 248, 60, 14, 14, 6, 135, 199, 135, 6, 14, 14, 60, 248, 240, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 31, 63, 120, 224, 224, 193, 195, 199, 195, 193, 224, 224, 120, 63, 31, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 128, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 240, 248, 28, 14, 7, 131, 195, 227, 227, 227, 195, 131, 7, 14, 28, 248, 240, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 31, 63, 112, 224, 192, 131, 135, 143, 142, 143, 135, 131, 192, 224, 112, 63, 31, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 3, 3, 3, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 128, 192, 192, 192, 192, 192, 128, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 240, 252, 30, 15, 7, 131, 193, 225, 113, 113, 113, 225, 193, 131, 7, 15, 30, 252, 240, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 31, 127, 240, 224, 192, 131, 7, 15, 28, 28, 28, 15, 7, 131, 192, 224, 240, 127, 31, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 3, 3, 7, 7, 7, 7, 7, 3, 3, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 192, 192, 192, 224, 224, 224, 224, 224, 192, 192, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 248, 252, 30, 7, 3, 129, 225, 240, 112, 56, 56, 56, 112, 240, 225, 129, 3, 7, 30, 252, 248, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 63, 127, 240, 192, 128, 3, 15, 31, 28, 56, 56, 56, 28, 31, 15, 3, 128, 192, 240, 127, 63, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 7, 7, 6, 14, 14, 14, 14, 14, 6, 7, 7, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 128, 128, 192, 224, 224, 96, 112, 112, 112, 112, 112, 96, 224, 224, 192, 128, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 248, 252, 31, 7, 3, 129, 224, 240, 56, 24, 28, 28, 28, 24, 56, 240, 224, 129, 3, 7, 31, 252, 248, 192, 0, 0, 0, 0, 0, 0, 0, 7, 63, 127, 240, 192, 128, 3, 15, 31, 56, 48, 112, 112, 112, 48, 56, 31, 15, 3, 128, 192, 240, 127, 63, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 3, 7, 14, 14, 12, 28, 28, 28, 28, 28, 12, 14, 14, 7, 3, 3, 1, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 128, 192, 224, 224, 112, 48, 48, 56, 56, 56, 56, 56, 48, 48, 112, 224, 224, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 248, 254, 15, 7, 1, 128, 224, 248, 56, 28, 12, 14, 142, 14, 12, 28, 56, 248, 224, 128, 1, 7, 15, 254, 248, 192, 0, 0, 0, 0, 0, 7, 63, 255, 224, 192, 0, 3, 15, 63, 56, 112, 96, 225, 227, 225, 96, 112, 56, 63, 15, 3, 0, 192, 224, 255, 63, 7, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 7, 14, 14, 28, 24, 24, 56, 56, 56, 56, 56, 24, 24, 28, 14, 14, 7, 3, 1, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 192, 192, 224, 112, 48, 56, 24, 24, 28, 28, 28, 28, 28, 24, 24, 56, 48, 112, 224, 192, 192, 0, 0, 0, 0, 0, 0, 0, 192, 248, 254, 15, 3, 1, 128, 240, 248, 60, 14, 14, 6, 135, 199, 135, 6, 14, 14, 60, 248, 240, 128, 1, 3, 15, 254, 248, 192, 0, 0, 0, 7, 63, 255, 224, 128, 0, 3, 31, 63, 120, 224, 224, 193, 195, 199, 195, 193, 224, 224, 120, 63, 31, 3, 0, 128, 224, 255, 63, 7, 0, 0, 0, 0, 0, 0, 1, 7, 7, 14, 28, 24, 56, 48, 48, 112, 113, 113, 113, 112, 48, 48, 56, 24, 28, 14, 7, 7, 1, 0, 0, 0, 0},
  {0, 0, 0, 0, 128, 192, 224, 112, 112, 56, 24, 28, 12, 12, 14, 142, 142, 142, 14, 12, 12, 28, 24, 56, 112, 112, 224, 192, 128, 0, 0, 0, 0, 192, 248, 254, 15, 3, 1, 128, 240, 248, 28, 14, 7, 131, 195, 227, 227, 227, 195, 131, 7, 14, 28, 248, 240, 128, 1, 3, 15, 254, 248, 192, 0, 7, 63, 255, 224, 128, 0, 3, 31, 63, 112, 224, 192, 131, 135, 143, 142, 143, 135, 131, 192, 224, 112, 63, 31, 3, 0, 128, 224, 255, 63, 7, 0, 0, 0, 0, 3, 7, 15, 28, 28, 56, 48, 112, 97, 97, 225, 227, 227, 227, 225, 97, 97, 112, 48, 56, 28, 28, 15, 7, 3, 0, 0, 0},
  {0, 0, 0, 128, 192, 224, 112, 56, 28, 28, 14, 14, 134, 134, 199, 199, 199, 199, 199, 134, 134, 14, 14, 28, 28, 56, 112, 224, 192, 128, 0, 0, 192, 252, 255, 15, 3, 0, 192, 240, 252, 30, 15, 7, 131, 193, 225, 113, 113, 113, 225, 193, 131, 7, 15, 30, 252, 240, 192, 0, 3, 15, 255, 252, 7, 127, 255, 224, 128, 0, 7, 31, 127, 240, 224, 192, 131, 7, 15, 28, 28, 28, 15, 7, 131, 192, 224, 240, 127, 31, 7, 0, 128, 224, 255, 127, 0, 0, 1, 3, 7, 14, 28, 56, 112, 112, 225, 225, 195, 195, 199, 199, 199, 199, 199, 195, 195, 225, 225, 112, 112, 56, 28, 14, 7, 3, 1, 0},
  {0, 0, 128, 224, 240, 120, 56, 28, 14, 6, 135, 199, 195, 195, 227, 227, 227, 227, 227, 195, 195, 199, 135, 6, 14, 28, 56, 120, 240, 224, 128, 0, 252, 255, 15, 1, 0, 192, 248, 252, 30, 7, 3, 129, 225, 240, 112, 56, 56, 56, 112, 240, 225, 129, 3, 7, 30, 252, 248, 192, 0, 1, 15, 255, 127, 255, 224, 0, 0, 7, 63, 127, 240, 192, 128, 3, 15, 31, 28, 56, 56, 56, 28, 31, 15, 3, 128, 192, 240, 127, 63, 7, 0, 0, 224, 255, 0, 1, 3, 15, 30, 60, 56, 112, 224, 193, 195, 199, 135, 134, 142, 142, 142, 142, 142, 134, 135, 199, 195, 193, 224, 112, 56, 60, 30, 15, 3, 1},
  {0, 192, 224, 240, 56, 28, 14, 14, 135, 131, 195, 227, 225, 97, 113, 113, 113, 113, 113, 97, 225, 227, 195, 131, 135, 14, 14, 28, 56, 240, 224, 192, 255, 15, 1, 0, 192, 248, 252, 31, 7, 3, 129, 224, 240, 56, 24, 28, 28, 28, 24, 56, 240, 224, 129, 3, 7, 31, 252, 248, 192, 0, 1, 15, 255, 224, 0, 0, 7, 63, 127, 240, 192, 128, 3, 15, 31, 56, 48, 112, 112, 112, 48, 56, 31, 15, 3, 128, 192, 240, 127, 63, 7, 0, 0, 224, 1, 7, 15, 30, 56, 112, 224, 225, 195, 131, 135, 142, 14, 12, 28, 28, 28, 28, 28, 12, 14, 142, 135, 131, 195, 225, 224, 112, 56, 30, 15, 7},
  {192, 224, 120, 60, 28, 14, 7, 131, 195, 225, 225, 112, 48, 48, 56, 56, 56, 56, 56, 48, 48, 112, 225, 225, 195, 131, 7, 14, 28, 60, 120, 224, 7, 1, 0, 192, 248, 254, 15, 7, 1, 128, 224, 248, 56, 28, 12, 14, 14, 14, 12, 28, 56, 248, 224, 128, 1, 7, 15, 254, 248, 192, 0, 1, 192, 0, 0, 7, 63, 255, 224, 192, 0, 3, 15, 63, 56, 112, 96, 224, 224, 224, 96, 112, 56, 63, 15, 3, 0, 192, 224, 255, 63, 7, 0, 0, 7, 15, 60, 120, 112, 224, 193, 131, 135, 14, 14, 28, 24, 24, 56, 56, 56, 56, 56, 24, 24, 28, 14, 14, 135, 131, 193, 224, 112, 120, 60, 15},
  {240, 120, 60, 14, 7, 7, 195, 193, 225, 112, 48, 56, 24, 24, 28, 28, 28, 28, 28, 24, 24, 56, 48, 112, 225, 193, 195, 7, 7, 14, 60, 120, 1, 0, 192, 248, 254, 15, 3, 1, 128, 240, 248, 60, 14, 14, 6, 7, 7, 7, 6, 14, 14, 60, 248, 240, 128, 1, 3, 15, 254, 248, 192, 0, 0, 0, 7, 63, 255, 224, 128, 0, 3, 31, 63, 120, 224, 224, 192, 192, 192, 192, 192, 224, 224, 120, 63, 31, 3, 0, 128, 224, 255, 63, 7, 0, 31, 60, 120, 224, 192, 193, 135, 7, 14, 28, 24, 56, 48, 48, 112, 113, 113, 113, 112, 48, 48, 56, 24, 28, 14, 7, 135, 193, 192, 224, 120, 60},
  {120, 28, 14, 7, 131, 193, 225, 112, 112, 56, 24, 28, 12, 12, 14, 142, 142, 142, 14, 12, 12, 28, 24, 56, 112, 112, 225, 193, 131, 7, 14, 28, 0, 192, 248, 254, 15, 3, 1, 128, 240, 248, 28, 14, 7, 3, 3, 3, 3, 3, 3, 3, 7, 14, 28, 248, 240, 128, 1, 3, 15, 254, 248, 192, 0, 7, 63, 255, 224, 128, 0, 3, 31, 63, 112, 224, 192, 128, 128, 128, 128, 128, 128, 128, 192, 224, 112, 63, 31, 3, 0, 128, 224, 255, 63, 7, 60, 112, 224, 192, 131, 7, 15, 28, 28, 56, 48, 112, 97, 97, 225, 227, 227, 227, 225, 97, 97, 112, 48, 56, 28, 28, 15, 7, 131, 192, 224, 112},
  {30, 15, 3, 131, 193, 224, 112, 56, 28, 28, 14, 14, 134, 134, 199, 199, 199, 199, 199, 134, 134, 14, 14, 28, 28, 56, 112, 224, 193, 131, 3, 15, 192, 252, 255, 15, 3, 0, 192, 240, 252, 30, 15, 7, 3, 1, 1, 1, 1, 1, 1, 1, 3, 7, 15, 30, 252, 240, 192, 0, 3, 15, 255, 252, 7, 127, 255, 224, 128, 0, 7, 31, 127, 240, 224, 192, 128, 0, 0, 0, 0, 0, 0, 0, 128, 192, 224, 240, 127, 31, 7, 0, 128, 224, 255, 127, 240, 224, 129, 131, 7, 14, 28, 56, 112, 112, 225, 225, 195, 195, 199, 199, 199, 199, 199, 195, 195, 225, 225, 112, 112, 56, 28, 14, 7, 131, 129, 224},
  {7, 3, 129, 224, 240, 120, 56, 28, 14, 6, 135, 199, 195, 195, 227, 227, 227, 227, 227, 195, 195, 199, 135, 6, 14, 28, 56, 120, 240, 224, 129, 3, 252, 255, 15, 1, 0, 192, 248, 252, 30, 7, 3, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 3, 7, 30, 252, 248, 192, 0, 1, 15, 255, 127, 255, 224, 0, 0, 7, 63, 127, 240, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 192, 240, 127, 63, 7, 0, 0, 224, 255, 192, 129, 3, 15, 30, 60, 56, 112, 224, 193, 195, 199, 135, 134, 142, 142, 142, 142, 142, 134, 135, 199, 195, 193, 224, 112, 56, 60, 30, 15, 3, 129},
  {3, 193, 224, 240, 56, 28, 14, 14, 135, 131, 195, 227, 225, 97, 113, 113, 113, 113, 113, 97, 225, 227, 195, 131, 135, 14, 14, 28, 56, 240, 224, 193, 255, 15, 1, 0, 192, 248, 252, 31, 7, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 7, 31, 252, 248, 192, 0, 1, 15, 255, 224, 0, 0, 7, 63, 127, 240, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 192, 240, 127, 63, 7, 0, 0, 224, 129, 7, 15, 30, 56, 112, 224, 225, 195, 131, 135, 142, 14, 12, 28, 28, 28, 28, 28, 12, 14, 142, 135, 131, 195, 225, 224, 112, 56, 30, 15, 7},
  {192, 224, 120, 60, 28, 14, 7, 131, 195, 225, 225, 112, 48, 48, 56, 56, 56, 56, 56, 48, 48, 112, 225, 225, 195, 131, 7, 14, 28, 60, 120, 224, 7, 1, 0, 192, 248, 254, 15, 7, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 7, 15, 254, 248, 192, 0, 1, 192, 0, 0, 7, 63, 255, 224, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 224, 255, 63, 7, 0, 0, 7, 15, 60, 120, 112, 224, 193, 131, 135, 14, 14, 28, 24, 24, 56, 56, 56, 56, 56, 24, 24, 28, 14, 14, 135, 131, 193, 224, 112, 120, 60, 15},
  {240, 120, 60, 14, 7, 7, 195, 193, 225, 112, 48, 56, 24, 24, 28, 28, 28, 28, 28, 24, 24, 56, 48, 112, 225, 193, 195, 7, 7, 14, 60, 120, 1, 0, 192, 248, 254, 15, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 15, 254, 248, 192, 0, 0, 0, 7, 63, 255, 224, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 224, 255, 63, 7, 0, 31, 60, 120, 224, 192, 193, 135, 7, 14, 28, 24, 56, 48, 48, 112, 112, 112, 112, 112, 48, 48, 56, 24, 28, 14, 7, 135, 193, 192, 224, 120, 60},
  {120, 28, 14, 7, 131, 193, 225, 112, 112, 56, 24, 28, 12, 12, 14, 14, 14, 14, 14, 12, 12, 28, 24, 56, 112, 112, 225, 193, 131, 7, 14, 28, 0, 192, 248, 254, 15, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 15, 254, 248, 192, 0, 7, 63, 255, 224, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 224, 255, 63, 7, 60, 112, 224, 192, 131, 7, 15, 28, 28, 56, 48, 112, 96, 96, 224, 224, 224, 224, 224, 96, 96, 112, 48, 56, 28, 28, 15, 7, 131, 192, 224, 112},
  {30, 15, 3, 131, 193, 224, 112, 56, 28, 28, 14, 14, 6, 6, 7, 7, 7, 7, 7, 6, 6, 14, 14, 28, 28, 56, 112, 224, 193, 131, 3, 15, 192, 252, 255, 15, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 15, 255, 252, 7, 127, 255, 224, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 224, 255, 127, 240, 224, 129, 131, 7, 14, 28, 56, 112, 112, 224, 224, 192, 192, 192, 192, 192, 192, 192, 192, 192, 224, 224, 112, 112, 56, 28, 14, 7, 131, 129, 224},
  {7, 3, 129, 224, 240, 120, 56, 28, 14, 6, 7, 7, 3, 3, 3, 3, 3, 3, 3, 3, 3, 7, 7, 6, 14, 28, 56, 120, 240, 224, 129, 3, 252, 255, 15, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 15, 255, 127, 255, 224, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 224, 255, 192, 129, 3, 15, 30, 60, 56, 112, 224, 192, 192, 192, 128, 128, 128, 128, 128, 128, 128, 128, 128, 192, 192, 192, 224, 112, 56, 60, 30, 15, 3, 129},
  {3, 193, 224, 240, 56, 28, 14, 14, 7, 3, 3, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 7, 14, 14, 28, 56, 240, 224, 193, 255, 15, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 15, 255, 224, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 224, 129, 7, 15, 30, 56, 112, 224, 224, 192, 128, 128, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 128, 128, 192, 224, 224, 112, 56, 30, 15, 7},
  {192, 224, 120, 60, 28, 14, 7, 3, 3, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 3, 3, 7, 14, 28, 60, 120, 224, 7, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 15, 60, 120, 112, 224, 192, 128, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 128, 192, 224, 112, 120, 60, 15},
  {240, 120, 60, 14, 7, 7, 3, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 3, 7, 7, 14, 60, 120, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 31, 60, 120, 224, 192, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 192, 192, 224, 120, 60},
  {120, 28, 14, 7, 3, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 3, 7, 14, 28, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 60, 112, 224, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 192, 224, 112},
  {30, 15, 3, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 3, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 240, 224, 128, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 128, 224},
  {7, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128},
  {3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
    };

    oled_write_raw_P(frames[which], 32 * 4);

    if (pressed) {
        counter++;
        pressed = false;
    }
    if (counter >= 5) {
        counter = 0;
        which++;
        if (which >= 38) {
            which = 0;
        }
    }
}

/*----------------------------------------------------------------------------------------------------------------------*/

void render_makro_sym(int *x, int *y, const char PROGMEM *logo) {
    oled_write_raw_P(logo, 5);
    *x += 1;
    oled_set_cursor(*x, *y);
}

void render_makros_and_state(int *x, int *y) {
    static const char PROGMEM zerologo[] = {
        0, 0, 0, 0, 0, 0,
    };
    static const char PROGMEM onelogo[] = {
        66, 66,126, 66, 66,  0,
    };
    static const char PROGMEM twologo[] = {
         66,126, 66,126, 66,  0,
    };
    static const char PROGMEM plylogo[] = {
        66,102,126, 60, 24,  0,
    };
    static const char PROGMEM reqlogo[] = {
        16, 56,124, 56, 16,  0,
    };
    static const char PROGMEM oneshot[] = {
        20, 52,116, 52, 20,  0,
    };
    static const char PROGMEM autoshift[] = {
        20, 22, 23, 22, 20,  0,
    };
    static const char PROGMEM autocorrect[] = {
        32, 79, 37, 79, 32,  0,
    };
    static const char PROGMEM capsword[] = {
        100, 70, 71, 70,100, 0,
    };
    static const char PROGMEM keylock[] = {
        120, 78, 74, 78,120,  0,
    };
    static const char PROGMEM keylock_watch[] = {
        2,  1, 89,  5,  2,  0
    };
    static int reset1, reset2;
    int j = 0;
    if (makroReq1) {
        render_makro_sym(x, y, reqlogo);
        j++;
    }
    if (makroPly1) {
        render_makro_sym(x, y, plylogo);
        j++;
        reset1++;
        if (reset1 >= 3) {
            reset1 = 0;
            makroPly1 = false;
        }
    }
    if (makroReq1 || makroPly1) {
        render_makro_sym(x, y, onelogo);
        j++;
    }
    if (makroReq2) {
        render_makro_sym(x, y, reqlogo);
        j++;
    }
    if (makroPly2) {
        render_makro_sym(x, y, plylogo);
        j++;
        reset2++;
        if (reset2 >= 3) {
            reset2 = 0;
            makroPly2 = false;
        }
    }
    if (makroReq2 || makroPly2) {
        if (j != 5) {
            render_makro_sym(x, y, twologo);
            j++;
        }
    }
    if (!(makroReq1 || makroReq2 || makroPly1 || makroPly2)) { // if no makro active we render some keyboard state:
        if (oneshot_enabled && j < 5) {
            render_makro_sym(x, y, oneshot);
            j++;
        }
        if (autoshift_enabled && j < 5) {
            render_makro_sym(x, y, autoshift);
            j++;
        }
        if (autocorrect_enabled && j < 5) {
            render_makro_sym(x, y, autocorrect);
            j++;
        }
        if (capsword_enabled && j < 5) {
            render_makro_sym(x, y, capsword);
            j++;
        }
        if (keylock_active && j < 5) {
            render_makro_sym(x, y, keylock);
            j++;
        }
        if (keylock_watching && j < 5) {
            render_makro_sym(x, y, keylock_watch);
            j++;
        }
    }
    for (int i = j; i < 5; i++) {
        render_makro_sym(x, y, zerologo);
    }
    *x = 0;
    *y += 1;
    oled_set_cursor(*x, *y);
}

/*----------------------------------------------------------------------------------------------------------------------*/

void render_leader(int *x, int *y) {
    static const char PROGMEM wait[] = {
        0,  0,  0,  0,  0,  0,  0,  0, 12, 28, 56,112,224,192,128,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 48, 56, 28, 14,  7,  3,  1,  0, 48, 48, 48, 48, 48, 48, 48, 48,  0,  0,  0,  0,  0,  0,  0,  0,
    };
    static const char PROGMEM done[] = {
        0,  0,  0,  0,  0,  0,  0,  0, 12, 28, 56,112,224,192,128,  0,  0,128,  0,  0,  0,  0,128,224,240, 56, 12,  6,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 48, 56, 28, 14,  7,  3,  1,  0,  0,  3, 15, 28, 56,126, 63, 15,  1,  0,  0,  0,  0,  0,  0,  0,
    };
    static const char PROGMEM cancel[] = {
        0,  0,  0,  0,  0,  0,  0,  0, 12, 28, 56,112,224,192,128,  0,  0,  0,  0, 24, 56,112,224,192,192,224,112, 56, 24,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 48, 56, 28, 14,  7,  3,  1,  0,  0,  0,  0, 24, 28, 14,  7,  3,  3,  7, 14, 28, 24,  0,  0,  0,
    };
    if (leader_done) {
        static int count;
        oled_write_raw_P(done, sizeof(done));
        count++;
        if (count >= 5) {
            count = 0;
            leader_done = false;
        }
    }
    else if (leader_cancel) {
        static int count;
        oled_write_raw_P(cancel, sizeof(cancel));
        count++;
        if (count >= 5) {
            count = 0;
            leader_cancel = false;
        }
    }
    else {
        oled_write_raw_P(wait, sizeof(wait));
    }
    *y += 2;
    oled_set_cursor(*x, *y);
}

/*----------------------------------------------------------------------------------------------------------------------*/

void render_layer_logo(int *x, int *y) {

    /* 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,192, 48, 12,  6,  2,254,  0,  0,  0,  0,252,  0,  0,  0,  0,  0,  0,  0,  0, 60, 66, 66, 66, 68, 62, 64,  0,  0, 64,112, 92,  7,  1,  1,  1,  1, 65,127, 64,  0,  0,  0, 63,  0,  0,  0,  0,  0,  0,  0,  0,  6,134,134,134,134,134,198,230,246,190,158, 14,  0,  0,  0,  0,  0, 48, 48,254,254, 48, 48, 48,254,254, 48, 48,  0,  0,  0,  0,112, 56, 28, 14,  7,  3,  1,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 12, 12,127,127, 12, 12, 12,127,127, 12, 12,  0,  0, */
    /*     0,  0,  2,254,254,134,134,134,134,  6, 14,  0,  0,  0,  0,  0,128,192,224,128,136,140,254,254,140,136,128,224,192,128,  0,  0,  0,  0, 64,127,127, 65,  1,  1,  1,  0,  0,  0,  0,  0,  0,  0,  1,  3,  7,  1, 17, 49,127,127, 49, 17,  1,  7,  3,  1,  0,  0,  0,  0,  0,  0,  0,  0,246, 10, 10, 10, 10, 10, 10, 10,246,  0,  0,  0,128,128,254,254,254,128,128,  0,  0,  0,254,254,  0,  0,  0,  0, 48,120,120, 55,  0,  0,  0,  0, 48,120,120, 55,  0,  0,  0, 28, 16, 17, 19, 23, 19, 17, 16, 28,  0,  0, 27, 27,  0,  0,  */
    /*     0,  0, 24,  4,  2,  2,  2,132,120,  0,  0,  0,  0,192,  0,  0,  0,  0,  8, 12,254,  0,  0,  0,  0,128,128,128,128,128,  0,  0,  0,  0, 96, 80, 72, 68, 67, 64, 64,  0,  0,  1,  1,  7,  1,  1,  0,  0, 64, 64,127, 64, 64,  0,  0,  2,  2,  2,  2,  2,  0,  0,  0,254,  2,  4,  8, 16, 32, 64,128,  0,  0,  0,  0,128,192,224,128,136,140,254,254,140,136,128,224,192,128,  0,  0,  0,  0,  0,  0, 31, 16,  8,  8,  4, 12, 26, 50,  1,  0,  0,  0,  1,  3,  7,  1, 17, 49,127,127, 49, 17,  1,  7,  3,  1,  0,  0,  0,  0,  0,  */
    /*     0,  0,252,  2,  2,  2,  0,128, 64, 64, 64,128,  0,192,128, 64, 64,128,  0,252, 66, 66,  0,208,  0,128, 64, 64, 64,192,  0,  0,  0,  0,115, 68, 68, 68, 64, 67, 68, 68, 68, 67, 64, 71, 64, 64, 64, 71, 64, 71, 64, 64, 64, 71, 64, 67, 68, 68, 68,127,  0,  0, */

static const char PROGMEM layer_logo[][32] = {
    {  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,192, 48, 12, 6, 2,254, 0, 0, 0, 0,252, 0, 0, 0, 0, 0, 0 },
    {  0, 0, 60, 66, 66, 66, 68, 62, 64, 0, 0, 64,112, 92, 7, 1, 1, 1, 1, 65,127, 64, 0, 0, 0, 63, 0, 0, 0, 0, 0, 0 },
    {  0, 6,134,134,134,134,134,198,230,246,190,158, 14, 0, 0, 0, 0, 0, 48, 48,254,254, 48, 48, 48,254,254, 48, 48, 0, 0, 0 },
    {  0,112, 56, 28, 14, 7, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 12,127,127, 12, 12, 12,127,127, 12, 12, 0, 0, 0 },
    {  0, 2,254,254,134,134,134,134, 6, 14, 0, 0, 0, 0, 0,128,192,224,128,136,140,254,254,140,136,128,224,192,128, 0, 0, 0 },
    {  0, 64,127,127, 65, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 3, 7, 1, 17, 49,127,127, 49, 17, 1, 7, 3, 1, 0, 0, 0 },
    {  0, 0, 0, 0,246, 10, 10, 10, 10, 10, 10, 10,246, 0, 0, 0,128,128,254,254,254,128,128, 0, 0, 0,254,254, 0, 0, 0, 0 },
    { 48,120,120, 55, 0, 0, 0, 0, 48,120,120, 55, 0, 0, 0, 28, 16, 17, 19, 23, 19, 17, 16, 28, 0, 0, 27, 27, 0, 0, 0, 0 },
    { 24, 4, 2, 2, 2,132,120, 0, 0, 0, 0,192, 0, 0, 0, 0, 8, 12,254, 0, 0, 0, 0,128,128,128,128,128, 0, 0, 0, 0 },
    { 96, 80, 72, 68, 67, 64, 64, 0, 0, 1, 1, 7, 1, 1, 0, 0, 64, 64,127, 64, 64, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0 },
    {254, 2, 4, 8, 16, 32, 64,128, 0, 0, 0, 0,128,192,224,128,136,140,254,254,140,136,128,224,192,128, 0, 0, 0, 0, 0, 0 },
    { 31, 16, 8, 8, 4, 12, 26, 50, 1, 0, 0, 0, 1, 3, 7, 1, 17, 49,127,127, 49, 17, 1, 7, 3, 1, 0, 0, 0, 0, 0, 0 },
    {  0,252, 2, 2, 2, 0,128, 64, 64, 64,128, 0,192,128, 64, 64,128, 0,252, 66, 66, 0,208, 0,128, 64, 64, 64,192, 0, 0, 0 },
    {  0,115, 68, 68, 68, 64, 67, 68, 68, 68, 67, 64, 71, 64, 64, 64, 71, 64, 71, 64, 64, 64, 71, 64, 67, 68, 68, 68,127, 0, 0 }
};

    render_line(x, y, layer_logo[layer_type * 2], 32);
    render_line(x, y, layer_logo[layer_type * 2 + 1], 32);

}

